@startuml
'https://plantuml.com/sequence-diagram

skinparam linetype polyline

participant "Client" as Client
participant "Timeslot Controller" as ATS_Controller
participant "Time Slot Object" as TS
participant "Unit of Work" as UoW
participant "Time Slot Data Mapper" as TS_Mapper
participant "Database" as DB



== Unit of Work ==
Client -> ATS_Controller: doGet(request, response)
activate Client
activate ATS_Controller
ATS_Controller -> UoW: new UnitofWork()
activate UoW
UoW --> ATS_Controller: return unitOfWork
ATS_Controller --> Client: response(AddTimeslotJSP)

Client -> ATS_Controller: doPost(request, response)
ATS_Controller -> ATS_Controller: processRequest(timeslotDetails)
ATS_Controller -> TS: new TimeSlot(timeslotDetails)
activate TS
TS --> ATS_Controller: return timeslot
deactivate TS
ATS_Controller -> UoW: registerNew(timeslot)

Client -> ATS_Controller: doPost(request, response)
deactivate Client
ATS_Controller -> UoW: commit()
deactivate ATS_Controller
UoW -> TS_Mapper: insert(timeslot)
deactivate UoW
activate TS_Mapper
TS_Mapper -> DB: sqlQuery.execute()
activate DB
DB --> TS_Mapper : OK
deactivate DB







@enduml